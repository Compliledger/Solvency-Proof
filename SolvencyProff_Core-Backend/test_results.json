{
  "passed": 19,
  "failed": 0,
  "warnings": 5,
  "tests": [
    {
      "name": "Health Check",
      "endpoint": "/health",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 2103.22,
      "success": true,
      "response": {
        "status": "ok",
        "timestamp": "2026-02-06T19:46:23.110Z"
      }
    },
    {
      "name": "Get Liabilities",
      "endpoint": "/api/liabilities",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1543.82,
      "success": true,
      "response": {
        "root": "0x934005bfbce16c8b6bbd708da0bf62f4a4693a2edf158679aea36bb3916dd312",
        "epochId": "epoch_001",
        "leafCount": 3,
        "timestamp": 0,
        "tree": null
      }
    },
    {
      "name": "Build Merkle Tree",
      "endpoint": "/api/liabilities/build",
      "method": "POST",
      "status_code": 200,
      "elapsed_ms": 3407.5,
      "success": true,
      "response": {
        "success": true,
        "message": "Liabilities tree built successfully",
        "data": {
          "liabilities_root": "0x934005bfbce16c8b6bbd708da0bf62f4a4693a2edf158679aea36bb3916dd312",
          "epoch_id": "epoch_001",
          "timestamp": 0,
          "leaf_count": 3
        },
        "output": "\ud83d\udce6 SolvencyProof: Liabilities Merkle Builder\n\n\ud83d\udcc4 Loaded 3 liability entries from CSV\n\n\ud83c\udf33 Merkle Tree Built\n   Root:  0x934005bfbce16c8b6bbd708da0bf62f4a4693a2edf158679aea36bb3916dd312\n   Total: 300000000000000000\n   Leaves: 3\n\n\u2705 Saved liabilities_root.json\n\u2705 Saved liabilities_total.json (private)\n\u2705 Saved 3 inclusion proof files\n\n\ud83c\udf89 Liabilities Merkle build complete!\n"
      }
    },
    {
      "name": "Verify Inclusion (alice)",
      "endpoint": "/api/liabilities/verify/alice",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 2497.11,
      "success": true,
      "response": {
        "success": true,
        "userId": "alice",
        "output": "\ud83d\udd0d SolvencyProof: Inclusion Verifier\n\nUser:    alice\nBalance: 5000\nRoot:    0xe9a47d641446b9a26b6486d34ee58a117dd599c7ff91e87dba5b04d39ae50dd9\nIndex:   0\nProof:   2 siblings\n\nLeaf hash match: \u2705\nProof valid:     \u2705\n\n\ud83c\udf89 Inclusion verified! Your balance is included in the liabilities root.\n"
      }
    },
    {
      "name": "Verify Inclusion (unknown)",
      "endpoint": "/api/liabilities/verify/unknown_user_xyz",
      "method": "GET",
      "status_code": 404,
      "elapsed_ms": 2652.15,
      "success": true,
      "response": {
        "error": "User not found",
        "details": "No inclusion proof exists for user: unknown_user_xyz"
      }
    },
    {
      "name": "Get Reserves",
      "endpoint": "/api/reserves",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 761.84,
      "success": true,
      "response": {
        "epoch_id": "epoch_001",
        "timestamp": 1770130145091,
        "chain": "sepolia",
        "chain_id": 11155111,
        "addresses": [
          {
            "address": "0xa58DCCb0F17279abD1d0D9069Aa8711Df4a4c58E",
            "balance": "0.355711576363123007",
            "balanceWei": "355711576363123007"
          }
        ],
        "reserves_total": "0.355711576363123007",
        "reserves_total_wei": "355711576363123007"
      }
    },
    {
      "name": "Scan Reserves",
      "endpoint": "/api/reserves/scan",
      "method": "POST",
      "status_code": 200,
      "elapsed_ms": 3317.28,
      "success": true,
      "response": {
        "success": true,
        "message": "Reserves scanned successfully",
        "data": {
          "epoch_id": "epoch_001",
          "timestamp": 1770407197404,
          "chain": "sepolia",
          "chain_id": 11155111,
          "addresses": [
            {
              "address": "0xa58DCCb0F17279abD1d0D9069Aa8711Df4a4c58E",
              "balance": "0.349348069787651697",
              "balanceWei": "349348069787651697"
            }
          ],
          "reserves_total": "0.349348069787651697",
          "reserves_total_wei": "349348069787651697"
        },
        "output": "\ud83d\udce6 SolvencyProof: Reserves Scanner\n\n\ud83d\udccd Scanning 1 reserve address(es) on Sepolia\n\n   Using RPC: https://1rpc.io/sepolia\n   0xa58DCCb0F17279abD1d0D9069Aa8711Df4a4c58E: 0.349348069787651697 ETH\n\n\ud83d\udcb0 Total Reserves: 0.349348069787651697 ETH\n   (349348069787651697 wei)\n\n\u2705 Saved reserves_snapshot.json\n\n\ud83c\udf89 Reserves scan complete!\n"
      }
    },
    {
      "name": "Get Proof Data",
      "endpoint": "/api/proof",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 963.01,
      "success": true,
      "response": {
        "proof": {
          "pi_a": [
            "13840910365814601662162947179321860320178737824362711841390208082913417434223",
            "6972294779632946468896589762651553738521823372935088482067846780033231648031",
            "1"
          ],
          "pi_b": [
            [
              "21111257176753983675769556097743130680300180767246502226159147100721511889270",
              "16639161571497319568703241300810802308622028178513271208048801601805583108594"
            ],
            [
              "7909572658420077594439372745748655024724320106090208603976401050584504245312",
              "3287013225593532479708125642270129679207847908531661728292566370014461935892"
            ],
            [
              "1",
              "0"
            ]
          ],
          "pi_c": [
            "2027980582658023390667278050538057894876183164734578823271113169309226538671",
            "3054806457623342730770985293755337802553815396758925903786766413907342786772",
            "1"
          ],
          "protocol": "groth16",
          "curve": "bn128"
        },
        "publicSignals": [
          "1",
          "10402619206166364393997169141620422006090302576193742179882619882788992420952",
          "355711576363123007",
          "1770149094"
        ],
        "calldata": {
          "pA": [
            "0x1e99ad7a9994e2fcc74369a6e51834aa94db78cbb594a5400bcb200a3f0b146f",
            "0x0f6a2dd2cf697ad0d660b293688c3d794e72f879f8bcbe7bac700bc3d416751f"
          ],
          "pB": [
            [
              "0x24c96e846ecbbe581ba1ff5c25863be1eff42d6635574a272d75ad7f74d7c9f2",
              "0x2eac8c51b006735f7d62c6d6d7393d55f6e1dad8f2995c486a82b8b592477976"
            ],
            [
              "0x07446230bcd4f26b5e887200e557633807736103a4d072709c249669f57fc114",
              "0x117ca8d38a098ad876724f802ae619449b84ca74606ef1a4c5d6669e2a769c40"
            ]
          ],
          "pC": [
            "0x047bcbdc81b6f5f2e2ecb63721d49189f8abd08c917fa5a4bdfe5d4db52896af",
            "0x06c0f58d048c059e0962dc000d90eee1d3038765861e7942255262a63e7e00d4"
          ],
          "pubSignals": [
            "0x0000000000000000000000000000000000000000000000000000000000000001",
            "0x16ffac7f6d7ea6bfba46a805d363b4d1f3392ec5900abe6dd5cfe295aead8c58",
            "0x00000000000000000000000000000000000000000000000004efbdcb479e413f",
            "0x00000000000000000000000000000000000000000000000000000000698254e6"
          ]
        }
      }
    },
    {
      "name": "Generate ZK Proof",
      "endpoint": "/api/proof/generate",
      "method": "POST",
      "status_code": 200,
      "elapsed_ms": 10752.56,
      "success": true,
      "response": {
        "success": true,
        "message": "Proof generated successfully",
        "data": {},
        "output": "\ud83d\udd10 Generating Solvency ZK Proof...\n\n\ud83d\udcca Liabilities:\n   Root: 0x934005bfbce16c8b6b...\n   Total: 300000000000000000\n\n\ud83d\udcb0 Reserves:\n   Total Wei: 349348069787651697\n\n\u2705 Solvency verified: Reserves >= Liabilities\n   Surplus: 49348069787651697 wei\n\n\ud83d\udcdd Circuit input written to: /app/circuits/build/input.json\n\n\u2699\ufe0f  Generating witness...\n\n\ud83d\udd2e Generating Groth16 proof...\n\n\u2705 Proof generated successfully!\n   Public signals: [\n  '1',\n  '938378016341142289329670516893878077864878173092222063212547671625630077711',\n  '349348069787651697',\n  '1770407200'\n]\n\n\ud83d\udd0d Verifying proof locally...\n\u001b[32;22m[INFO]  \u001b[39;1msnarkJS\u001b[0m: OK!\n\u2705 Local verification passed!\n\n\ud83d\udce6 Generating Solidity calldata...\n\n\ud83d\udcbe Complete proof saved to: /app/data/output/solvency_proof.json\n\n==================================================\nSOLVENCY PROOF SUMMARY\n==================================================\nEpoch ID:          1770407200\nLiabilities Root:  0x934005bfbce16c8b6b...\nReserves Total:    349348069787651697 wei\nLiabilities Total: 300000000000000000 (private)\nisSolvent:         YES \u2705\n==================================================\n\n\ud83c\udf89 Proof generation complete!\n"
      }
    },
    {
      "name": "Get Contract Addresses",
      "endpoint": "/api/contracts",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 795.43,
      "success": true,
      "response": {
        "network": "sepolia",
        "chainId": 11155111,
        "timestamp": "2026-02-06T19:43:14.059Z",
        "contracts": {
          "Groth16Verifier": "0x9e2f50145E2f5299857a33ed937f77DCeD61FBB6",
          "SolvencyProofRegistry": "0xC392C0e603f9d86A0Bd2Ab2B46CC1fffcA83E6f4"
        }
      }
    },
    {
      "name": "Get Epoch Count",
      "endpoint": "/api/contracts/epoch-count",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1153.72,
      "success": true,
      "response": {
        "epochCount": 0
      }
    },
    {
      "name": "Get On-Chain Proof (epoch 1)",
      "endpoint": "/api/contracts/proof/1",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 872.69,
      "success": true,
      "response": {
        "epochId": "0x0000000000000000000000000000000000000000000000000000000000000000",
        "liabilitiesRoot": "0x0000000000000000000000000000000000000000000000000000000000000000",
        "reservesTotal": "0",
        "timestamp": 0,
        "submitter": "0x0000000000000000000000000000000000000000",
        "verified": false
      }
    },
    {
      "name": "Get Yellow Status",
      "endpoint": "/api/yellow/status",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 941.37,
      "success": true,
      "response": {
        "connected": false,
        "authenticated": false,
        "sessionsCount": 0,
        "totalOpenLiabilities": "0"
      }
    },
    {
      "name": "List Yellow Sessions",
      "endpoint": "/api/yellow/sessions",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 796.9,
      "success": true,
      "response": {
        "sessions": [],
        "count": 0,
        "totalOpenLiabilities": "0"
      }
    },
    {
      "name": "Create Yellow Session",
      "endpoint": "/api/yellow/session",
      "method": "POST",
      "status_code": 200,
      "elapsed_ms": 606.22,
      "success": true,
      "response": {
        "success": true,
        "message": "Yellow session created (state channel opened)",
        "session": {
          "id": "session_1770407214424_v4zi25501",
          "channelId": "0x2600d83046bc0f702c0989912e461ba5cd9040f96906a83ffdcbad17aefd3258",
          "participants": [
            "0x1234567890123456789012345678901234567890"
          ],
          "allocations": {
            "0x1234567890123456789012345678901234567890": "0"
          },
          "status": "open",
          "stateHash": "0xc4fc105ae86c271fd3e654c6f8ed87cd44d75126987bcff37cfef495ff6f1f3b",
          "nonce": 0,
          "createdAt": "2026-02-06T19:46:54.424Z"
        }
      }
    },
    {
      "name": "Get Session Details",
      "endpoint": "/api/yellow/session/session_1770407214424_v4zi25501",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 834.89,
      "success": true,
      "response": {
        "id": "session_1770407214424_v4zi25501",
        "channelId": "0x2600d83046bc0f702c0989912e461ba5cd9040f96906a83ffdcbad17aefd3258",
        "participants": [
          "0x1234567890123456789012345678901234567890"
        ],
        "allocations": {
          "0x1234567890123456789012345678901234567890": "0"
        },
        "nonce": 0,
        "status": "open",
        "stateHash": "0xc4fc105ae86c271fd3e654c6f8ed87cd44d75126987bcff37cfef495ff6f1f3b",
        "signatures": {
          "0xa58DCCb0F17279abD1d0D9069Aa8711Df4a4c58E": "0xdaa0671af924a4c8d67df6cfaf112744afda8e73c8116bdf433579f199907c7c10307f5868bd2bf88313cb14032d34401443b2d594190248d8b655e3d96577141c"
        },
        "createdAt": "2026-02-06T19:46:54.424Z",
        "updatedAt": "2026-02-06T19:46:54.424Z",
        "metadata": {
          "version": 1,
          "turnNum": 0,
          "appData": ""
        }
      }
    },
    {
      "name": "Update Allocations",
      "endpoint": "/api/yellow/session/session_1770407214424_v4zi25501/allocations",
      "method": "PUT",
      "status_code": 200,
      "elapsed_ms": 541.26,
      "success": true,
      "response": {
        "success": true,
        "message": "Allocations updated off-chain (nonce: 1)",
        "session": {
          "id": "session_1770407214424_v4zi25501",
          "allocations": {
            "0x1234567890123456789012345678901234567890": "0",
            "user1": "1000",
            "user2": "2000"
          },
          "nonce": 1,
          "stateHash": "0x5b74635e0b4b4ed24c9f13200a5272cb70112d3ff436818961dcc4231555a875",
          "status": "open",
          "updatedAt": "2026-02-06T19:46:55.829Z"
        }
      }
    },
    {
      "name": "Get Session History",
      "endpoint": "/api/yellow/session/session_1770407214424_v4zi25501/history",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 755.23,
      "success": true,
      "response": {
        "sessionId": "session_1770407214424_v4zi25501",
        "history": [
          {
            "timestamp": "2026-02-06T19:46:54.439Z",
            "nonce": 0,
            "stateHash": "0xc4fc105ae86c271fd3e654c6f8ed87cd44d75126987bcff37cfef495ff6f1f3b",
            "allocations": {
              "0x1234567890123456789012345678901234567890": "0"
            },
            "status": "open"
          },
          {
            "timestamp": "2026-02-06T19:46:55.834Z",
            "nonce": 1,
            "stateHash": "0x5b74635e0b4b4ed24c9f13200a5272cb70112d3ff436818961dcc4231555a875",
            "allocations": {
              "0x1234567890123456789012345678901234567890": "0",
              "user1": "1000",
              "user2": "2000"
            },
            "status": "open"
          }
        ],
        "totalTransitions": 2
      }
    },
    {
      "name": "Full Workflow",
      "endpoint": "/api/workflow/full",
      "method": "POST",
      "status_code": 200,
      "elapsed_ms": 29929.32,
      "success": true,
      "response": {
        "success": true,
        "message": "Full workflow completed",
        "steps": [
          "Building liabilities...",
          "\u2713 Liabilities built",
          "Scanning reserves...",
          "\u2713 Reserves scanned",
          "Generating ZK proof...",
          "\u2713 Proof generated",
          "Submitting proof on-chain...",
          "\u2713 Proof submitted on-chain"
        ],
        "submission": {
          "txHash": "0xb5c80eca0f2ad8b779c8b37043ce5fb705fc548f33b56e2210da37393d731d2f",
          "blockNumber": "10205614",
          "gasUsed": "400306",
          "epochId": "0x0000000000000000000000000000000000000000000000000000000069864536",
          "liabilitiesRoot": "0x02131a67194c8c0e42cc9f6a1c3b59dd2bcd815571e934c5e2fd8af7c16dd30f",
          "reservesTotal": "349348069787651697",
          "verified": true,
          "timestamp": "2026-02-06T19:47:26.472Z"
        }
      }
    }
  ]
}