{
  "passed": 20,
  "failed": 0,
  "warnings": 5,
  "tests": [
    {
      "name": "Health Check",
      "endpoint": "/health",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1347.03,
      "success": true,
      "response": {
        "status": "ok",
        "timestamp": "2026-02-06T20:01:46.221Z"
      }
    },
    {
      "name": "Get Liabilities",
      "endpoint": "/api/liabilities",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 848.51,
      "success": true,
      "response": {
        "root": "0x934005bfbce16c8b6bbd708da0bf62f4a4693a2edf158679aea36bb3916dd312",
        "epochId": "epoch_001",
        "leafCount": 3,
        "timestamp": 0,
        "tree": null
      }
    },
    {
      "name": "Build Merkle Tree",
      "endpoint": "/api/liabilities/build",
      "method": "POST",
      "status_code": 200,
      "elapsed_ms": 2323.98,
      "success": true,
      "response": {
        "success": true,
        "message": "Liabilities tree built successfully",
        "data": {
          "liabilities_root": "0x934005bfbce16c8b6bbd708da0bf62f4a4693a2edf158679aea36bb3916dd312",
          "epoch_id": "epoch_001",
          "timestamp": 0,
          "leaf_count": 3
        },
        "output": "\ud83d\udce6 SolvencyProof: Liabilities Merkle Builder\n\n\ud83d\udcc4 Loaded 3 liability entries from CSV\n\n\ud83c\udf33 Merkle Tree Built\n   Root:  0x934005bfbce16c8b6bbd708da0bf62f4a4693a2edf158679aea36bb3916dd312\n   Total: 300000000000000000\n   Leaves: 3\n\n\u2705 Saved liabilities_root.json\n\u2705 Saved liabilities_total.json (private)\n\u2705 Saved 3 inclusion proof files\n\n\ud83c\udf89 Liabilities Merkle build complete!\n"
      }
    },
    {
      "name": "Verify Inclusion (alice)",
      "endpoint": "/api/liabilities/verify/alice",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 2319.63,
      "success": true,
      "response": {
        "success": true,
        "userId": "alice",
        "output": "\ud83d\udd0d SolvencyProof: Inclusion Verifier\n\nUser:    alice\nBalance: 5000\nRoot:    0xe9a47d641446b9a26b6486d34ee58a117dd599c7ff91e87dba5b04d39ae50dd9\nIndex:   0\nProof:   2 siblings\n\nLeaf hash match: \u2705\nProof valid:     \u2705\n\n\ud83c\udf89 Inclusion verified! Your balance is included in the liabilities root.\n"
      }
    },
    {
      "name": "Verify Inclusion (unknown)",
      "endpoint": "/api/liabilities/verify/unknown_user_xyz",
      "method": "GET",
      "status_code": 404,
      "elapsed_ms": 2061.53,
      "success": true,
      "response": {
        "error": "User not found",
        "details": "No inclusion proof exists for user: unknown_user_xyz"
      }
    },
    {
      "name": "Get Reserves",
      "endpoint": "/api/reserves",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 788.68,
      "success": true,
      "response": {
        "epoch_id": "epoch_001",
        "timestamp": 1770407221218,
        "chain": "sepolia",
        "chain_id": 11155111,
        "addresses": [
          {
            "address": "0xa58DCCb0F17279abD1d0D9069Aa8711Df4a4c58E",
            "balance": "0.349348069787651697",
            "balanceWei": "349348069787651697"
          }
        ],
        "reserves_total": "0.349348069787651697",
        "reserves_total_wei": "349348069787651697"
      }
    },
    {
      "name": "Scan Reserves",
      "endpoint": "/api/reserves/scan",
      "method": "POST",
      "status_code": 200,
      "elapsed_ms": 3737.31,
      "success": true,
      "response": {
        "success": true,
        "message": "Reserves scanned successfully",
        "data": {
          "epoch_id": "epoch_001",
          "timestamp": 1770408118157,
          "chain": "sepolia",
          "chain_id": 11155111,
          "addresses": [
            {
              "address": "0xa58DCCb0F17279abD1d0D9069Aa8711Df4a4c58E",
              "balance": "0.348908704696687993",
              "balanceWei": "348908704696687993"
            }
          ],
          "reserves_total": "0.348908704696687993",
          "reserves_total_wei": "348908704696687993"
        },
        "output": "\ud83d\udce6 SolvencyProof: Reserves Scanner\n\n\ud83d\udccd Scanning 1 reserve address(es) on Sepolia\n\n   Using RPC: https://1rpc.io/sepolia\n   0xa58DCCb0F17279abD1d0D9069Aa8711Df4a4c58E: 0.348908704696687993 ETH\n\n\ud83d\udcb0 Total Reserves: 0.348908704696687993 ETH\n   (348908704696687993 wei)\n\n\u2705 Saved reserves_snapshot.json\n\n\ud83c\udf89 Reserves scan complete!\n"
      }
    },
    {
      "name": "Get Proof Data",
      "endpoint": "/api/proof",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 619.16,
      "success": true,
      "response": {
        "proof": {
          "pi_a": [
            "4282042920646677229540985849064382354998295682845380521410019887822972581764",
            "631448603049533681415953110727289435540005115006818242201953679876155467160",
            "1"
          ],
          "pi_b": [
            [
              "2274280830774702436798508705283397481294056500947097532244225441510976245124",
              "5960463398508726520510991109859040889838091423390913287492345970001811588907"
            ],
            [
              "21606259379638762056090680265947242471010379170857786441770401504927101572152",
              "6104487597741363563994495034513214590109120198376064018365031352637621285739"
            ],
            [
              "1",
              "0"
            ]
          ],
          "pi_c": [
            "14825989600048308154392625853289474362606764156246275602852360351853825292403",
            "2059379263307324668754630164753690878291688760945800300376749723951776620895",
            "1"
          ],
          "protocol": "groth16",
          "curve": "bn128"
        },
        "publicSignals": [
          "1",
          "938378016341142289329670516893878077864878173092222063212547671625630077711",
          "349348069787651697",
          "1770407222"
        ],
        "calldata": {
          "pA": [
            "0x09778ce763406dafdbc496ce202bb529d95fea859b08bfd312120d040d6af784",
            "0x016563226c38e45c8c73d130613ec379551629b03003b06f06a79c4cea736598"
          ],
          "pB": [
            [
              "0x0d2d80b2fca94ac733a2b6270142295f4f1a6272fb18f0ac68d657bedf7bc72b",
              "0x0507328475810a4f0374513686d87efe2a245f4eb7aafc06090d7637842dcd84"
            ],
            [
              "0x0d7f047d7180ec80a1ec993cec111de801720d73d52295aae105aaa89d04336b",
              "0x2fc4b59dd7d16502a6f3a10cfa22d34cc6c833341b2dcfec5c3957ce11dd5438"
            ]
          ],
          "pC": [
            "0x20c7367625305df52c51217781aceecaf95ffd760da534c6edc396929178f873",
            "0x048d913e4cf2966ef417b7ef1b790e196916f29bed48f6296435ed9e879f615f"
          ],
          "pubSignals": [
            "0x0000000000000000000000000000000000000000000000000000000000000001",
            "0x02131a67194c8c0e42cc9f6a1c3b59dd2bcd815571e934c5e2fd8af7c16dd30f",
            "0x00000000000000000000000000000000000000000000000004d92237f2a94e71",
            "0x0000000000000000000000000000000000000000000000000000000069864536"
          ]
        }
      }
    },
    {
      "name": "Generate ZK Proof",
      "endpoint": "/api/proof/generate",
      "method": "POST",
      "status_code": 200,
      "elapsed_ms": 8261.57,
      "success": true,
      "response": {
        "success": true,
        "message": "Proof generated successfully",
        "data": {},
        "output": "\ud83d\udd10 Generating Solvency ZK Proof...\n\n\ud83d\udcca Liabilities:\n   Root: 0x934005bfbce16c8b6b...\n   Total: 300000000000000000\n\n\ud83d\udcb0 Reserves:\n   Total Wei: 348908704696687993\n\n\u2705 Solvency verified: Reserves >= Liabilities\n   Surplus: 48908704696687993 wei\n\n\ud83d\udcdd Circuit input written to: /app/circuits/build/input.json\n\n\u2699\ufe0f  Generating witness...\n\n\ud83d\udd2e Generating Groth16 proof...\n\n\u2705 Proof generated successfully!\n   Public signals: [\n  '1',\n  '938378016341142289329670516893878077864878173092222063212547671625630077711',\n  '348908704696687993',\n  '1770408120'\n]\n\n\ud83d\udd0d Verifying proof locally...\n\u001b[32;22m[INFO]  \u001b[39;1msnarkJS\u001b[0m: OK!\n\u2705 Local verification passed!\n\n\ud83d\udce6 Generating Solidity calldata...\n\n\ud83d\udcbe Complete proof saved to: /app/data/output/solvency_proof.json\n\n==================================================\nSOLVENCY PROOF SUMMARY\n==================================================\nEpoch ID:          1770408120\nLiabilities Root:  0x934005bfbce16c8b6b...\nReserves Total:    348908704696687993 wei\nLiabilities Total: 300000000000000000 (private)\nisSolvent:         YES \u2705\n==================================================\n\n\ud83c\udf89 Proof generation complete!\n"
      }
    },
    {
      "name": "Get Contract Addresses",
      "endpoint": "/api/contracts",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 828.29,
      "success": true,
      "response": {
        "network": "sepolia",
        "chainId": 11155111,
        "timestamp": "2026-02-06T19:43:14.059Z",
        "contracts": {
          "Groth16Verifier": "0x9e2f50145E2f5299857a33ed937f77DCeD61FBB6",
          "SolvencyProofRegistry": "0xC392C0e603f9d86A0Bd2Ab2B46CC1fffcA83E6f4"
        }
      }
    },
    {
      "name": "Get Epoch Count",
      "endpoint": "/api/contracts/epoch-count",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1844.24,
      "success": true,
      "response": {
        "epochCount": 1
      }
    },
    {
      "name": "Get On-Chain Proof (epoch 1)",
      "endpoint": "/api/contracts/proof/1",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1049.14,
      "success": true,
      "response": {
        "epochId": "0x0000000000000000000000000000000000000000000000000000000000000000",
        "liabilitiesRoot": "0x0000000000000000000000000000000000000000000000000000000000000000",
        "reservesTotal": "0",
        "timestamp": 0,
        "submitter": "0x0000000000000000000000000000000000000000",
        "verified": false
      }
    },
    {
      "name": "Get Yellow Status",
      "endpoint": "/api/yellow/status",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 910.17,
      "success": true,
      "response": {
        "connected": false,
        "authenticated": false,
        "sessionsCount": 1,
        "totalOpenLiabilities": "3000"
      }
    },
    {
      "name": "List Yellow Sessions",
      "endpoint": "/api/yellow/sessions",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 767.78,
      "success": true,
      "response": {
        "sessions": [
          {
            "id": "session_1770407214424_v4zi25501",
            "channelId": "0x2600d83046bc0f702c0989912e461ba5cd9040f96906a83ffdcbad17aefd3258",
            "status": "open",
            "participantCount": 3,
            "nonce": 1,
            "createdAt": "2026-02-06T19:46:54.424Z"
          }
        ],
        "count": 1,
        "totalOpenLiabilities": "3000"
      }
    },
    {
      "name": "Create Yellow Session",
      "endpoint": "/api/yellow/session",
      "method": "POST",
      "status_code": 200,
      "elapsed_ms": 791.17,
      "success": true,
      "response": {
        "success": true,
        "message": "Yellow session created (state channel opened)",
        "session": {
          "id": "session_1770408133243_khqoejodx",
          "channelId": "0x4b5eff64c0498f680f0e52267ddc055c091ba349caa0bda3a97ec168fef4c4bb",
          "participants": [
            "0x1234567890123456789012345678901234567890"
          ],
          "allocations": {
            "0x1234567890123456789012345678901234567890": "0"
          },
          "status": "open",
          "stateHash": "0x929b72d6c5d81dd6d41d379c822bc9d6e7c7d2dd5a934ecfcdf3dd67c7e65981",
          "nonce": 0,
          "createdAt": "2026-02-06T20:02:13.243Z"
        }
      }
    },
    {
      "name": "Get Session Details",
      "endpoint": "/api/yellow/session/session_1770408133243_khqoejodx",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1028.38,
      "success": true,
      "response": {
        "id": "session_1770408133243_khqoejodx",
        "channelId": "0x4b5eff64c0498f680f0e52267ddc055c091ba349caa0bda3a97ec168fef4c4bb",
        "participants": [
          "0x1234567890123456789012345678901234567890"
        ],
        "allocations": {
          "0x1234567890123456789012345678901234567890": "0"
        },
        "nonce": 0,
        "status": "open",
        "stateHash": "0x929b72d6c5d81dd6d41d379c822bc9d6e7c7d2dd5a934ecfcdf3dd67c7e65981",
        "signatures": {
          "0xa58DCCb0F17279abD1d0D9069Aa8711Df4a4c58E": "0xfc2dedc12ca968df62f6d4c44a83e058414befb2d04808314ae10bfcd2389eda29c443ba122b81463296042c7c095e25e5b6f15f1f033332ea2c62ea15b548eb1c"
        },
        "createdAt": "2026-02-06T20:02:13.243Z",
        "updatedAt": "2026-02-06T20:02:13.243Z",
        "metadata": {
          "version": 1,
          "turnNum": 0,
          "appData": ""
        }
      }
    },
    {
      "name": "Update Allocations",
      "endpoint": "/api/yellow/session/session_1770408133243_khqoejodx/allocations",
      "method": "PUT",
      "status_code": 200,
      "elapsed_ms": 617.98,
      "success": true,
      "response": {
        "success": true,
        "message": "Allocations updated off-chain (nonce: 1)",
        "session": {
          "id": "session_1770408133243_khqoejodx",
          "allocations": {
            "0x1234567890123456789012345678901234567890": "0",
            "user1": "1000",
            "user2": "2000"
          },
          "nonce": 1,
          "stateHash": "0xf7caff6af7336e12227e5de36a6ce566320622f4809d2083dc4079e318452c89",
          "status": "open",
          "updatedAt": "2026-02-06T20:02:15.077Z"
        }
      }
    },
    {
      "name": "Get Session History",
      "endpoint": "/api/yellow/session/session_1770408133243_khqoejodx/history",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1159.75,
      "success": true,
      "response": {
        "sessionId": "session_1770408133243_khqoejodx",
        "history": [
          {
            "timestamp": "2026-02-06T20:02:13.246Z",
            "nonce": 0,
            "stateHash": "0x929b72d6c5d81dd6d41d379c822bc9d6e7c7d2dd5a934ecfcdf3dd67c7e65981",
            "allocations": {
              "0x1234567890123456789012345678901234567890": "0"
            },
            "status": "open"
          },
          {
            "timestamp": "2026-02-06T20:02:15.080Z",
            "nonce": 1,
            "stateHash": "0xf7caff6af7336e12227e5de36a6ce566320622f4809d2083dc4079e318452c89",
            "allocations": {
              "0x1234567890123456789012345678901234567890": "0",
              "user1": "1000",
              "user2": "2000"
            },
            "status": "open"
          }
        ],
        "totalTransitions": 2
      }
    },
    {
      "name": "Yellow Stress Demo",
      "endpoint": "/api/yellow/stress-demo",
      "method": "POST",
      "status_code": 200,
      "elapsed_ms": 12047.26,
      "success": true,
      "response": {
        "success": true,
        "message": "Yellow Network stress demo completed",
        "summary": {
          "description": "Simulated high-frequency liability events via Yellow state channels",
          "yellowValue": "All balance updates were INSTANT and ZERO-GAS via off-chain state channels",
          "workflow": "Yellow sessions \u2192 Export \u2192 Merkle tree \u2192 ZK proof \u2192 On-chain verification"
        },
        "session": {
          "id": "session_1770408137086_71p89y4oi",
          "channelId": "0x093ae712d7db0d9a6cb459ff356233dbef0574541b7d73295d64367cd4aa5d8a",
          "totalUpdates": 5,
          "finalAllocations": {
            "user_alice": "23202214424621512",
            "user_bob": "27425263862424576",
            "user_charlie": "31784377805082072"
          },
          "stateHash": "0x1b398bf4eba1cfa29909b7e0bc1b7358bc0b33c68bc2982c4459f5ebcdaccad8"
        },
        "solvency": {
          "liabilitiesTotal": "82411856092128160",
          "reservesTotal": "348908704696687993",
          "isSolvent": true
        },
        "proof": {
          "generated": true,
          "epochId": "0x00000000000000000000000000000000000000000000000000000000698648ce"
        },
        "submission": null,
        "performance": {
          "totalTimeMs": 11207,
          "avgUpdateTimeMs": 2241.4,
          "events": [
            {
              "action": "start",
              "timestamp": 1770408137086,
              "details": "Yellow stress demo initiated"
            },
            {
              "action": "session_created",
              "timestamp": 1770408137089,
              "details": "Channel 0x093ae712d7db0d... opened with 3 participants"
            },
            {
              "action": "liability_updates",
              "timestamp": 1770408137102,
              "details": "5 off-chain state transitions completed (zero gas cost)"
            },
            {
              "action": "export_liabilities",
              "timestamp": 1770408137105,
              "details": "Session state exported to /app/data/liabilities.csv"
            },
            {
              "action": "merkle_built",
              "timestamp": 1770408138671,
              "details": "Liabilities Merkle tree constructed"
            },
            {
              "action": "reserves_scanned",
              "timestamp": 1770408141338,
              "details": "On-chain reserve balances fetched"
            },
            {
              "action": "proof_generated",
              "timestamp": 1770408148293,
              "details": "Groth16 ZK solvency proof created"
            }
          ]
        },
        "updateLog": [
          {
            "user": "user_alice",
            "oldBalance": "0",
            "newBalance": "15409582772175136",
            "nonce": 1
          },
          {
            "user": "user_bob",
            "oldBalance": "0",
            "newBalance": "28247256979054028",
            "nonce": 2
          },
          {
            "user": "user_alice",
            "oldBalance": "0",
            "newBalance": "23202214424621512",
            "nonce": 3
          },
          {
            "user": "user_bob",
            "oldBalance": "0",
            "newBalance": "27425263862424576",
            "nonce": 4
          },
          {
            "user": "user_charlie",
            "oldBalance": "0",
            "newBalance": "31784377805082072",
            "nonce": 5
          }
        ]
      }
    },
    {
      "name": "Full Workflow",
      "endpoint": "/api/workflow/full",
      "method": "POST",
      "status_code": 200,
      "elapsed_ms": 27733.36,
      "success": true,
      "response": {
        "success": true,
        "message": "Full workflow completed",
        "steps": [
          "Building liabilities...",
          "\u2713 Liabilities built",
          "Scanning reserves...",
          "\u2713 Reserves scanned",
          "Generating ZK proof...",
          "\u2713 Proof generated",
          "Submitting proof on-chain...",
          "\u2713 Proof submitted on-chain"
        ],
        "submission": {
          "txHash": "0x0f5fa9037c9ecde65ce4d7bb7a45b33c80a30bfed8f429cbdb027af6f682d8d9",
          "blockNumber": "10205688",
          "gasUsed": "383194",
          "epochId": "0x00000000000000000000000000000000000000000000000000000000698648d9",
          "liabilitiesRoot": "0x134e14af479ad57330eceabad3c79a73e9830c0f7a27b2ac3101df698817f658",
          "reservesTotal": "348908704696687993",
          "verified": true,
          "timestamp": "2026-02-06T20:02:55.925Z"
        }
      }
    }
  ]
}